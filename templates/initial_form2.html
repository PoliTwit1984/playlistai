{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">Create Your Mood Playlist</h1>
    
    <form method="POST" action="{{ url_for('initial_form') }}">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.activity.label }}
            {{ form.activity(class="form-control") }}
        </div>
        
        <div class="form-group">
            {{ form.energy_level.label }}
            {{ form.energy_level(class="form-control") }}
        </div>
        
        <div class="form-group">
            {{ form.time_of_day.label }}
            {{ form.time_of_day(class="form-control") }}
        </div>
        
        <div class="form-group">
            {{ form.duration.label }}
            {{ form.duration(class="form-control", placeholder="Enter duration in minutes") }}
        </div>
        
        <div class="form-group">
            <label for="current-mood">Current Mood</label>
            <div id="current-mood-slider"></div>
            {{ form.mood(type="hidden", id="current-mood-input") }}
        </div>
        
        <div class="form-group">
            <label for="desired-mood">Desired Mood</label>
            <div id="desired-mood-slider"></div>
            {{ form.desired_mood(type="hidden", id="desired-mood-input") }}
        </div>
        
        <div class="form-group">
            {{ form.discovery_level.label }}
            {{ form.discovery_level(class="form-control", type="range", min="0", max="100", step="1") }}
            <small class="form-text text-muted">0 = Only familiar tracks, 100 = Maximum discovery</small>
        </div>
        
        <div class="form-group">
            {{ form.playlist_description.label }}
            {{ form.playlist_description(class="form-control", rows="4", placeholder="Tell us more about the mood, occasion, or story behind your desired playlist...") }}
        </div>
        
        {{ form.submit(class="btn btn-primary") }}
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

<script>
$(document).ready(function() {
    $("#current-mood-slider").slider({
        min: 0,
        max: 100,
        value: 50,
        slide: function(event, ui) {
            $("#current-mood-input").val(ui.value);
        }
    });

    $("#desired-mood-slider").slider({
        min: 0,
        max: 100,
        value: 50,
        slide: function(event, ui) {
            $("#desired-mood-input").val(ui.value);
        }
    });
});
</script>
{% endblock %}